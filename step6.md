# 콘서트 대기열 예약 서비스
## 프로젝트 구조
### NESTJS, TypeScript를 사용한 서버
### RDBMS를 사용합니다.
+ Mysql : 멀티 인스턴스 서버에서도 비관적 락을 걸 수 있다는 장점이 있습니다.
### 모듈 구조
#### 1. 대기열 (토큰)
+ 대기열을 위한 토큰 발급과 조회를 위한 대기열 모듈이 필요합니다.
+ 주기적인 스케줄링을 사용한 놀이공원 방식의 대기열 구현 예정.
+ 특정 간격마다 N개의 토큰을 WAIT -> ACTIVE 상태로 변경.
+ 특정 간격마다 기간이 만료된 토큰의 ACTIVE -> EXPIRE 상태 변경.
+ 예약가능한 날짜 조회, 예약가능한 좌석 조회, 좌석예약요청, 결제요청 ==> 모두 ACTIVE 토큰이 있는 경우에만 접근 가능하다.
+ 클라이언트에서는 짧은 폴링으로 자신의 대기열 정보를 조회한다.
#### 2. 콘서트
+ 콘서트, 콘서트의 날짜별 공연, 공연의 좌석들이 있다.
+ 콘서트와 날짜별 공연 1:N 관계
+ 공연과 좌석 1:N 관계
#### 3. 유저
+ 유저의 로그인, 회원가입은 아직 없지만 잔액 조회와 충전이 있다.
+ 잔액은 유저가 들고 있어야 하는 정보라고 생각되어 유저 모듈의 필요성이 있다.
#### 4. 결제
+ 결제의 방식 변경이나, 추가적인 결제절차 등 확장 가능성이 있다.


## ERD 설계
![콘서트 서비스 (2)](https://github.com/user-attachments/assets/6788046e-fccd-4432-8a59-4d4ce24ff601)

## API 명세서
<https://documenter.getpostman.com/view/25072297/2sAXxQfD4T>

